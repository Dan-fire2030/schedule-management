# Googleèªè¨¼ + Supabaseè¨­å®šã‚¬ã‚¤ãƒ‰

## ğŸš€ æ¦‚è¦
å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒªã«Googleèªè¨¼æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

---

## ğŸ“‹ å¿…è¦ãªä½œæ¥­ä¸€è¦§
- [ ] Google Cloud Consoleã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] OAuthåŒæ„ç”»é¢ã®è¨­å®š
- [ ] OAuthèªè¨¼æƒ…å ±ã®ä½œæˆ
- [ ] Supabaseã§Googleèªè¨¼ã‚’æœ‰åŠ¹åŒ–
- [ ] å‹•ä½œç¢ºèª

---

## ğŸ”§ ã‚¹ãƒ†ãƒƒãƒ—1: Google Cloud Consoleè¨­å®š

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
1. **Google Cloud Console**ã«ã‚¢ã‚¯ã‚»ã‚¹
   ```
   https://console.cloud.google.com/
   ```

2. **æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ**
   - ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠã€â†’ã€Œæ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: `å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª`
   - ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### 1.2 OAuthåŒæ„ç”»é¢ã®è¨­å®š
1. **å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼**: APIã¨ã‚µãƒ¼ãƒ“ã‚¹ â†’ OAuthåŒæ„ç”»é¢
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¿ã‚¤ãƒ—**: å¤–éƒ¨ï¼ˆå€‹äººåˆ©ç”¨ã®å ´åˆï¼‰
3. **ã‚¢ãƒ—ãƒªæƒ…å ±ã‚’å…¥åŠ›**:
   - ã‚¢ãƒ—ãƒªå: `å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª`
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«: ã‚ãªãŸã®Gmail
   - ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼é€£çµ¡å…ˆ: ã‚ãªãŸã®Gmail
4. **ã‚¹ã‚³ãƒ¼ãƒ—**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾
5. **ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼**: å¿…è¦ã«å¿œã˜ã¦è¿½åŠ 

### 1.3 OAuthèªè¨¼æƒ…å ±ã®ä½œæˆ
1. **å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼**: APIã¨ã‚µãƒ¼ãƒ“ã‚¹ â†’ èªè¨¼æƒ…å ±
2. **èªè¨¼æƒ…å ±ã‚’ä½œæˆ** â†’ OAuth 2.0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID
3. **è¨­å®šå†…å®¹**:
   - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡: `ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³`
   - åå‰: `å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª Web Client`
   - æ‰¿èªæ¸ˆã¿ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURI:
     ```
     https://your-project-id.supabase.co/auth/v1/callback
     ```
     â€» `your-project-id`ã‚’å®Ÿéš›ã®Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã«ç½®ãæ›ãˆ

4. **èªè¨¼æƒ…å ±ã‚’ã‚³ãƒ”ãƒ¼**:
   - âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID
   - âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ

---

## ğŸ—„ï¸ ã‚¹ãƒ†ãƒƒãƒ—2: Supabaseè¨­å®š

### 2.1 Googleèªè¨¼ã®æœ‰åŠ¹åŒ–
1. **Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**ã«ã‚¢ã‚¯ã‚»ã‚¹
   ```
   https://supabase.com/dashboard
   ```

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ** â†’ Authentication â†’ Providers

3. **Googleã‚’è¨­å®š**:
   - ã€ŒGoogleã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - âœ… Enable sign in with Google
   - Client ID: å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸID
   - Client Secret: å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
   - ã€ŒSaveã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã®ç¢ºèªæ–¹æ³•
Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®**Settings** â†’ **General**ã§ç¢ºèªå¯èƒ½:
```
Project URL: https://your-project-id.supabase.co
```

---

## ğŸŒ ã‚¹ãƒ†ãƒƒãƒ—3: Vercelç’°å¢ƒå¤‰æ•°ç¢ºèª

### 3.1 å¿…è¦ãªç’°å¢ƒå¤‰æ•°
Vercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ä»¥ä¸‹ãŒè¨­å®šæ¸ˆã¿ã‹ç¢ºèª:

```bash
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
```

### 3.2 ç’°å¢ƒå¤‰æ•°ã®è¨­å®šå ´æ‰€
- Vercelãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠ
- Settings â†’ Environment Variables

---

## âœ… ã‚¹ãƒ†ãƒƒãƒ—4: å‹•ä½œç¢ºèª

### 4.1 ãƒ†ã‚¹ãƒˆæ‰‹é †
1. **ã‚¢ãƒ—ãƒªã«ã‚¢ã‚¯ã‚»ã‚¹**
2. **ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯**
3. **Googleèªè¨¼ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹**
4. **Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³**
5. **ã‚¢ãƒ—ãƒªã«æˆ»ã£ã¦ãƒ­ã‚°ã‚¤ãƒ³å®Œäº†**

### 4.2 æˆåŠŸã®ç¢ºèª
- âœ… ã‚¢ãƒ—ãƒªã®å·¦ä¸Šã«ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒè¡¨ç¤º
- âœ… ãƒ¡ã‚¤ãƒ³ã®å®¶è¨ˆç°¿æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½
- âœ… ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ãŒæ©Ÿèƒ½

---

## ğŸ’° æ–™é‡‘ã«ã¤ã„ã¦

| ã‚µãƒ¼ãƒ“ã‚¹ | æ–™é‡‘ | åˆ¶é™ |
|---------|------|------|
| Google Cloud Console | **ç„¡æ–™** | ãªã— |
| Google Sign-In API | **ç„¡æ–™** | ãªã— |
| OAuthèªè¨¼ | **ç„¡æ–™** | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ç„¡åˆ¶é™ |

> **ğŸ’¡ ãƒã‚¤ãƒ³ãƒˆ**: OAuthèªè¨¼ã®ã¿ã®åˆ©ç”¨ã§ã¯ä¸€åˆ‡èª²é‡‘ã•ã‚Œã¾ã›ã‚“

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ã€Œredirect_uri_mismatchã€ã‚¨ãƒ©ãƒ¼
**åŸå› **: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIãŒé–“é•ã£ã¦ã„ã‚‹
**è§£æ±º**: Google Cloud Consoleã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆURIã‚’ç¢ºèª
```
æ­£ã—ã„å½¢å¼: https://your-project-id.supabase.co/auth/v1/callback
```

#### 2. ã€Œinvalid_clientã€ã‚¨ãƒ©ãƒ¼
**åŸå› **: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã¾ãŸã¯ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãŒé–“é•ã£ã¦ã„ã‚‹
**è§£æ±º**: Supabaseã®è¨­å®šã‚’å†ç¢ºèª

#### 3. Googleèªè¨¼ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œãªã„
**åŸå› **: OAuthåŒæ„ç”»é¢ãŒæœªè¨­å®š
**è§£æ±º**: Google Cloud Consoleã§OAuthåŒæ„ç”»é¢ã‚’è¨­å®š

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Google Cloud Console](https://console.cloud.google.com/)
- [Supabase Dashboard](https://supabase.com/dashboard)
- [Supabase Auth Documentation](https://supabase.com/docs/guides/auth)
- [Google OAuth 2.0 Documentation](https://developers.google.com/identity/protocols/oauth2)

---

## ğŸ‰ å®Œäº†ï¼

è¨­å®šãŒå®Œäº†ã™ã‚‹ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ã£ã¦ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼